import{s as y,e as p,a as C,c as $,b as D,l as E,g as T,f,m as g,i as B,h as d,H as I,n as m,w as S,k as F,P as j,t as H,d as L,K as U,j as q}from"../chunks/scheduler.CjD0NZ8o.js";import{S as O,i as V,c as h,a as _,m as b,t as v,b as w,d as x}from"../chunks/index.or77jMZA.js";import{c as M,b as N,d as z,e as K,f as R,h as A,i as G,D as J,U as Q}from"../chunks/date.DCN9688O.js";import{T as W}from"../chunks/table.Bbh0fYby.js";import{B as X}from"../chunks/index.Cy1MAQMk.js";import"../chunks/Toaster.svelte_svelte_type_style_lang.DUqWXG7W.js";import{t as k,o as P,i as Y,s as Z}from"../chunks/data.QLkakxwv.js";import{f as ee}from"../chunks/fetch.UBuoTI4j.js";import{a as te}from"../chunks/alert.PramJLuh.js";import{g as ae}from"../chunks/entry.B9pAj-Df.js";function ne(s){let e,t,a="Edit",n,o,l="Delete",c,r;return{c(){e=p("div"),t=p("button"),t.textContent=a,n=C(),o=p("button"),o.textContent=l,this.h()},l(i){e=$(i,"DIV",{class:!0});var u=D(e);t=$(u,"BUTTON",{class:!0,"data-svelte-h":!0}),E(t)!=="svelte-s77gdn"&&(t.textContent=a),n=T(u),o=$(u,"BUTTON",{class:!0,"data-svelte-h":!0}),E(o)!=="svelte-133nxbs"&&(o.textContent=l),u.forEach(f),this.h()},h(){g(t,"class","btn svelte-1p5p3f8"),g(o,"class","btn bg-foreground text-background svelte-1p5p3f8"),g(e,"class","flex h-8 items-center justify-center gap-1")},m(i,u){B(i,e,u),d(e,t),d(e,n),d(e,o),c||(r=[I(t,"click",s[1]),I(o,"click",s[3])],c=!0)},p:m,i:m,o:m,d(i){i&&f(e),c=!1,S(r)}}}function re(s,e,t){let a;F(s,k,r=>t(4,a=r));let{row:n}=e;function o(){P(n)}function l(){ee.delete(`tag/${n.id}`).then(r=>{r.ok&&j(k,a=a.filter(i=>i.id!==n.id),a)})}const c=()=>{te(`删除标签：${n.name}`).then(()=>{l()})};return s.$$set=r=>{"row"in r&&t(0,n=r.row)},[n,o,l,c]}class se extends O{constructor(e){super(),V(this,e,re,ne,y,{row:0})}}function oe(s){let e,t,a,n;return{c(){e=p("div"),t=p("div"),a=C(),n=H(s[0]),this.h()},l(o){e=$(o,"DIV",{class:!0});var l=D(e);t=$(l,"DIV",{class:!0,style:!0}),D(t).forEach(f),a=T(l),n=L(l,s[0]),l.forEach(f),this.h()},h(){g(t,"class","mr-1 h-4 w-4 rounded-sm shadow"),U(t,"background-color",s[0]),g(e,"class","flex items-center text-muted-foreground")},m(o,l){B(o,e,l),d(e,t),d(e,a),d(e,n)},p(o,[l]){l&1&&U(t,"background-color",o[0]),l&1&&q(n,o[0])},i:m,o:m,d(o){o&&f(e)}}}function le(s,e,t){let{color:a}=e;return s.$$set=n=>{"color"in n&&t(0,a=n.color)},[a]}class ie extends O{constructor(e){super(),V(this,e,le,oe,y,{color:0})}}function ce(s){let e,t;return e=new W({props:{tableModel:s[0],viewOption:s[1]}}),{c(){h(e.$$.fragment)},l(a){_(e.$$.fragment,a)},m(a,n){b(e,a,n),t=!0},p:m,i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){w(e.$$.fragment,a),t=!1},d(a){x(e,a)}}}function ue(s,e,t){let a;F(s,k,r=>t(2,a=r)),a.length===0&&Y();const n=z(k,{page:K(),filter:R({fn:({filterValue:r,value:i})=>i.toLowerCase().includes(r.toLowerCase())}),hide:A(),sort:G({toggleOrder:["asc","desc"]})}),o=n.createColumns([n.column({accessor:"id",header:"ID"}),n.column({accessor:"name",header:"Name"}),n.column({accessor:"color",header:"Color",cell:({value:r})=>M(ie,{color:r}),plugins:{filter:{exclude:!0}}}),n.column({accessor:"created",header:"Created",cell:({value:r})=>N(r),plugins:{filter:{exclude:!0}}}),n.column({accessor:"updated",header:"Updated",cell:({value:r})=>N(r),plugins:{filter:{exclude:!0}}}),n.display({id:"actions",header:()=>"",cell:({row:r})=>r.isData()&&r.original?M(se,{row:r.original}):""})]);return[n.createViewModel(o),{type:"hideColumn",selected:Z,options:[]}]}class de extends O{constructor(e){super(),V(this,e,ue,ce,y,{})}}function fe(s){let e,t;return e=new Q({props:{class:"h-4 w-4"}}),{c(){h(e.$$.fragment)},l(a){_(e.$$.fragment,a)},m(a,n){b(e,a,n),t=!0},p:m,i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){w(e.$$.fragment,a),t=!1},d(a){x(e,a)}}}function me(s){let e,t,a,n,o,l,c;return t=new X({props:{variant:"ghost",size:"icon",$$slots:{default:[fe]},$$scope:{ctx:s}}}),t.$on("click",s[0]),n=new J({props:{text:"New Tag",onClick:s[1]}}),l=new de({}),{c(){e=p("div"),h(t.$$.fragment),a=C(),h(n.$$.fragment),o=C(),h(l.$$.fragment),this.h()},l(r){e=$(r,"DIV",{class:!0});var i=D(e);_(t.$$.fragment,i),a=T(i),_(n.$$.fragment,i),o=T(i),_(l.$$.fragment,i),i.forEach(f),this.h()},h(){g(e,"class","container mx-auto")},m(r,i){B(r,e,i),b(t,e,null),d(e,a),b(n,e,null),d(e,o),b(l,e,null),c=!0},p(r,[i]){const u={};i&4&&(u.$$scope={dirty:i,ctx:r}),t.$set(u)},i(r){c||(v(t.$$.fragment,r),v(n.$$.fragment,r),v(l.$$.fragment,r),c=!0)},o(r){w(t.$$.fragment,r),w(n.$$.fragment,r),w(l.$$.fragment,r),c=!1},d(r){r&&f(e),x(t),x(n),x(l)}}}function pe(s){return[()=>{ae("/admin/article")},()=>P()]}class Te extends O{constructor(e){super(),V(this,e,pe,me,y,{})}}export{Te as component};
